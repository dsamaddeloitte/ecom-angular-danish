<div *ngIf="products.length > 0; else noProducts">
  <h2 class="heading_class">Your Products</h2>
  <ul class="product-container">
    <div *ngFor="let product of products" class="card" style="width: 18rem">
      <img
        [src]="product.imageUrl || 'default-image.jpg'"
        class="card-img-top"
        alt="Product Image"
      />
      <div class="card-body">
        <h5 class="card-title">{{ product.name }}</h5>
        <p class="card-text">{{ product.description }}</p>
        <p class="card-text">{{ product.price }}</p>
        <a
          href="#"
          class="btn btn-primary"
          (click)="updateProduct(product, $event)"
          >Update</a
        >
        &nbsp;
        <a
          href="#"
          class="btn btn-danger"
          (click)="deleteProduct(product.id, $event)"
          >Delete</a
        >
      </div>
    </div>
  </ul>
</div>

<ng-template #noProducts>
  <p>No products found.</p>
</ng-template>

<!-- Form to Add or Update Product -->
<h2 class="heading_class">{{ isUpdating ? "Update" : "Add" }} Product</h2>
<div class="container_class">
  <form (ngSubmit)="onSubmit($event)">
    <input
      [(ngModel)]="productForm.name"
      name="name"
      placeholder="Name"
      required
    />
    <input
      [(ngModel)]="productForm.description"
      name="description"
      placeholder="Description"
      required
    />
    <input
      [(ngModel)]="productForm.price"
      name="price"
      type="number"
      placeholder="Price"
      required
    />
    <input type="file" (change)="onFileSelected($event)" />
    <img
      *ngIf="imagePreview"
      [src]="imagePreview"
      alt="Image Preview"
      style="width: 100px; height: 100px"
    />
    <button type="submit" class="btn btn-primary">
      {{ isUpdating ? "Update" : "Add" }}
    </button>
  </form>
</div>
